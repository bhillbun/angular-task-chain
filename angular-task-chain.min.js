!function(){"use strict";angular.module("taskChain",[]).factory("TaskChain",["$q",function(a){return function(){var b=this,c=a.defer();b.queue=[],b.isRunning=!1,b.enqueue=function(a){angular.isFunction(a.func)&&b.queue.push(a)},b.dequeue=function(){return b.queue.pop()},b.execute=function(){var d=b.dequeue();return void 0===d?(b.isRunning=!1,a.when(c.resolve(),function(){c=a.defer()})):(b.isRunning=!0,d.func.apply(d.func,d.args).then(function(){return b.execute()},function(){return b.isRunning=!1,c.reject()}),c.promise)}}}])}();